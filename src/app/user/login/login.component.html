<div
	class="login-form-wrapper flex justify-center items-center min-h-screen bg-dark text-light p-4">
	<form
		class="login-form bg-medium-grey p-8 rounded-lg shadow-md w-full max-w-md"
		#form="ngForm"
		(ngSubmit)="login(form)">
		<fieldset class="border-none">
			<h2 class="text-2xl font-bold mb-6 text-center">Login</h2>

			<div class="field field-icon mb-4 relative">
				<label
					for="email"
					class="absolute left-3 top-1/2 transform -translate-y-1/2">
					<span><i class="text-accent-green"></i></span>
				</label>
				<input
					[class]="(
			  (inputEmail?.touched && inputEmail?.errors?.['required']) || 
			  (inputEmail?.touched && inputEmail?.errors?.['emailValidator'])
			) ? 'input-error input-field' : 'input-field'"
					type="email"
					name="email"
					id="email"
					placeholder="john.doe@gmail.com"
					ngModel
					#inputEmail="ngModel"
					required
					class="w-full p-2.5 border border-gray-300 rounded-md" />
			</div>

			@if(inputEmail?.touched){
			<div class="text-red-500 mt-2 text-sm">
				@if(inputEmail?.errors?.['required']){
				<p>Email is required!</p>
				} @if(inputEmail?.errors?.['emailValidator']){
				<p>Email is not valid!</p>
				}
			</div>
			}

			<div class="mb-4 relative">
				<label
					for="password"
					class="absolute left-3 top-1/2 transform -translate-y-1/2">
					<span><i class="fas fa-lock text-accent-green"></i></span>
				</label>
				<input
					[class]="(
			  (inputPassword?.touched && inputPassword?.errors?.['required']) || 
			  (inputPassword?.touched && inputPassword?.errors?.['minlength'])
			) ? 'input-error input-field' : 'input-field'"
					type="password"
					name="password"
					id="password"
					placeholder="******"
					ngModel
					#inputPassword="ngModel"
					minlength="6"
					required
					class="w-full p-2.5 border border-gray-300 rounded-md" />
			</div>

			@if(inputPassword?.touched){
			<div class="text-red-500 mt-2 text-sm">
				@if(inputPassword?.errors?.['required']){
				<p>Password is required!</p>
				} @if(inputPassword?.errors?.['minlength']){
				<p>Password must be at least 6 characters!</p>
				}
			</div>
			}

			<button
				[disabled]="form.invalid"
				class="w-full py-3 mt-4 rounded bg-accent-green text-dark font-bold hover:bg-accent-green-dark disabled:bg-gray-400"
				[ngClass]="{ 'bg-gray-500': form.invalid }">
				Login
			</button>

			<p class="text-center mt-4">
				Don't an account?
				<a routerLink="/register" class="text-accent-green">Register</a>
			</p>
		</fieldset>
	</form>
</div>
